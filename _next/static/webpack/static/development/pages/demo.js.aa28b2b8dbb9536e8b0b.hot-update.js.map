{"version":3,"file":"static/webpack/static/development/pages/demo.js.aa28b2b8dbb9536e8b0b.hot-update.js","sources":["webpack:///./pages/demo.js"],"sourcesContent":["import React, { Component } from 'react'\n\nimport { CSVReader, readString, jsonToCSV, BAD_DELIMITERS } from 'react-papaparse'\n\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n\nexport default class Demo extends Component {\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n\n    this.state = {\n      tabIndex: 0,\n      str: `Column 1,Column 2,Column 3,Column 4\n1-1,1-2,1-3,1-4\n2-1,2-2,2-3,2-4\n3-1,3-2,3-3,3-4\n4,5,6,7`,\n      csvData: null,\n      jsonData: `[\n  {\n      \"Column 1\": \"1-1\",\n      \"Column 2\": \"1-2\",\n      \"Column 3\": \"1-3\",\n      \"Column 4\": \"1-4\"\n  },\n  {\n      \"Column 1\": \"2-1\",\n      \"Column 2\": \"2-2\",\n      \"Column 3\": \"2-3\",\n      \"Column 4\": \"2-4\"\n  },\n  {\n      \"Column 1\": \"3-1\",\n      \"Column 2\": \"3-2\",\n      \"Column 3\": \"3-3\",\n      \"Column 4\": \"3-4\"\n  },\n  {\n      \"Column 1\": 4,\n      \"Column 2\": 5,\n      \"Column 3\": 6,\n      \"Column 4\": 7\n  }\n]`,\n    }\n  }\n\n  handleReadCSV = (data) => {\n    this.setState({csvData: data})\n  }\n\n  handleOnError = (err, file, inputElem, reason) => {\n    console.log(err)\n  }\n\n  handleImportOffer = () => {\n    const index = this.state.tabIndex\n\n    if (index === 0) {\n      let results = readString(this.state.str)\n      console.log('--------------------------------------------------')\n      console.log('Parse complete!')\n      console.log('Row count: ', results.data.length)\n      console.log('Errors: ', results.errors.length)\n      console.log('Results: ', results)\n      console.log('Synchronous results: ', results)\n      console.log('--------------------------------------------------')\n    } else if (index ===1) {\n      let results = this.state.csvData\n      if (results) {\n        console.log('--------------------------------------------------')\n        console.log('Parse complete!')\n        console.log('Row count: ', results.data.length)\n        console.log('Errors: ', results.errors.length)\n        console.log('Results: ', results)\n        console.log('Synchronous results: ', results)\n        console.log('--------------------------------------------------')\n      } else {\n        console.log('--------------------------------------------------')\n        console.error('Please upload csv file!')\n        console.log('--------------------------------------------------')\n      }\n    } else {\n      let results = jsonToCSV(this.state.jsonData)\n      console.log('--------------------------------------------------')\n      console.log(results)\n      console.log('--------------------------------------------------')\n    }\n  }\n\n  setTabIndex = (index) => {\n    this.setState({tabIndex: index})\n  }\n\n  handleStrChange = (event) => {\n    this.setState({str: event.target.value})\n  }\n\n  handleJsonDataChange = (event) => {\n    this.setState({jsonData: event.target.value})\n  }\n\n  render() {\n    return (\n      <>\n        <main>\n          <header>\n            <div className=\"grid-container\">\n              <div className=\"grid-40 mobile-grid-50\">\n                <div className=\"links\">\n                  <a href=\"/\">\n                    <i className=\"fa fa-home fa-lg\"></i> Home\n                  </a>\n                  <a href=\"/demo\">\n                    <i className=\"fa fa-magic fa-lg\"></i> Demo\n                  </a>\n                  <a href=\"/docs\">\n                    <i className=\"fa fa-book fa-lg\"></i> Docs\n                  </a>\n                </div>\n              </div>\n              <div className=\"grid-20 hide-on-mobile text-center\">\n                <a href=\"/\" className=\"text-logo\">react-papaparse 2</a>\n              </div>\n              <div className=\"grid-40 mobile-grid-50 text-right\">\n                <div className=\"links\">\n                  <a href=\"https://github.com/themodernjavascript/react-papaparse\">\n                    <i className=\"fa fa-github fa-lg\"></i> GitHub\n                  </a>\n                </div>\n              </div>\n            </div>\n          </header>\n\n          <h1>Choose a Demo</h1>\n            \n          <div className=\"grid-container\">\n            <div className=\"grid-66\">\n              <Tabs onSelect={index => this.setTabIndex(index)}>\n                <TabList>\n                  <Tab>String</Tab>\n                  <Tab>Local File(s)</Tab>\n                  <Tab>JSON to CSV</Tab>\n                </TabList>\n                <TabPanel>\n                  <div className=\"input-area\" id=\"input-string\">\n                    <div style={{float: 'right', marginBottom: 14}}>\n                      <a href='https://github.com/themodernjavascript/react-papaparse/blob/master/demo/ReadString.js'>Source code</a>\n                    </div>\n                    <textarea id=\"input\" placeholder=\"String input\" onChange={this.handleStrChange} value={this.state.str} />\n                  </div>\n                </TabPanel>\n                <TabPanel>\n                  <div className=\"input-area\" id=\"input-string\">\n                    <div style={{marginBottom: 14, position: 'absolute', marginRight: 0}}>\n                      <a href='https://github.com/themodernjavascript/react-papaparse/blob/master/demo/ReadString.js'>Source code</a>\n                    </div>\n                    <p>\n                      <div className=\"text-center\">\n                        Choose one or more delimited text files for react-papaparse to parse.\n                      </div>\n\n                      <CSVReader\n                        onFileLoaded={this.handleReadCSV}\n                        inputRef={this.fileInput}\n                        onError={this.handleOnError}\n                      />\n                      \n                      Sample files:\n\n                      <ul>\n                        <li>\n                          <a href=\"/static/csv/normal.csv\" id=\"local-normal-file\">Normal file</a>\n                        </li>\n                        <li>\n                          <a href=\"/static/csv/malformed.csv\" id=\"local-large-file\">Large file</a>\n                        </li>\n                        <li>\n                          <a href=\"/static/csv/big.csv\" id=\"local-malformed-file\">Malformed file</a>\n                        </li>\n                      </ul>\n                    </p>\n                  </div>\n                </TabPanel>\n                <TabPanel>\n                  <div className=\"input-area\" id=\"input-string\">\n                    <div>\n                       <textarea id=\"json\" placeholder=\"JSON string\" value={this.state.jsonData} onChange={this.handleJsonDataChange} />\n                    </div>\n                  </div>\n                </TabPanel>\n              </Tabs>\n\n              <div className=\"text-center\">\n                <div className=\"see-results\">\n                  Results will appear in the console of your browser's inspector tools\n                </div>\n                <button id=\"submit\" className=\"green\" onClick={this.handleImportOffer}>Parse</button>\n              </div>\n            </div>\n          </div>\n        </main>\n      </>\n    )\n  }\n}\n"],"mappings":"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","sourceRoot":""}