<!DOCTYPE html><html><head><meta charSet="utf-8"/><title> react-papaparse - Powerful CSV Parser for React</title><link rel="shortcut icon" type="image/x-icon" href=""/><meta name="theme-color" content="#ffffff"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="react-papaparse"/><link rel="apple-touch-icon" href=""/><link rel="shortcut icon" type="image/x-icon" href=""/><meta name="description" content="The fastest in-browser CSV (or delimited text) parser for React."/><meta name="keywords" content="React Papaparse, CSVReader, CSVDownloader, readString, readRemoteFile , jsonToCSV, React CSV, Papaparse, CSV, React Native CSV"/><meta name="author" content="Bunlong Van"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css"/><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Arvo|Source+Sans+Pro:400,400italic,700|Lato:300,400"/><link rel="stylesheet" href="/static/css/unsemantic.css"/><link rel="stylesheet" href="/static/css/common.css"/><link rel="stylesheet" href="/static/css/prism.css"/><link rel="stylesheet" href="/static/css/home.css"/><meta property="og:url" content="https://react-papaparse.github.io"/><meta property="og:type" content="website"/><meta property="og:title" content="react-papaparse"/><meta property="og:description" content="The fastest in-browser CSV (or delimited text) parser for React."/><meta property="og:image" content="/static/images/react-papaparse.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@bunlongvan"/><meta name="twitter:creator" content="@bunlongvan"/><meta name="twitter:title" content="react-papaparse"/><meta name="twitter:description" content="The fastest in-browser CSV (or delimited text) parser for React."/><meta name="twitter:image" content="https://react-papaparse.github.io/static/images/react-papaparse.png"/><link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon"/><link rel="icon" href="/static/favicon-32.png" sizes="32x32" type="image/png"/><link rel="apple-touch-icon-precomposed" href="/static/favicon-152.png" type="image/png" sizes="152x152"/><link rel="apple-touch-icon-precomposed" href="/static/favicon-120.png" type="image/png" sizes="120x120"/><link rel="icon" href="/static/favicon-96.png" sizes="96x96" type="image/png"/><meta name="next-head-count" content="35"/><link rel="preload" href="/_next/static/css/878b3b9a9ee9ae4cceae.css" as="style"/><link rel="stylesheet" href="/_next/static/css/878b3b9a9ee9ae4cceae.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-3e8c9eeaee1164856bee.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.0021446505933bd5cafd.js" as="script"/><link rel="preload" href="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.ce4b2266325182fccb55.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-e5e2382b8230932699ea.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-9098a42135564a570814.js" as="script"/><link rel="preload" href="/_next/static/chunks/ba43c0059f31913f28e53f615645a3f91dbaab7b.514315c3e2ec78cf0c99.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/index-68f80a522bc8a7443286.js" as="script"/></head><body><div id="__next"><div><div><div id="skrollr-body"><div id="top" data-top="bottom: 0px; opacity: 1;" data-top-bottom="bottom: -350px; opacity: .3;"><div class="grid-container"><div class="grid-100"><div id="title-main"><h1>react-papaparse</h1><h2>The powerful, in-browser React CSV parser for big boys and girls</h2><a href="#download" class="button"><i class="fa fa-download"></i>  Install</a><a href="/demo" class="button red"><i class="fa fa-magic"></i>  Demo</a><a href="/docs" class="button gray"><i class="fa fa-book"></i>  Documentation</a></div></div></div></div></div><main><header><div class="grid-container"><div class="grid-40 mobile-grid-50"><div class="links"><a href="/demo"><i class="fa fa-magic fa-lg"></i> Demo</a><a href="/docs"><i class="fa fa-book fa-lg"></i> Docs</a></div></div><div class="grid-20 hide-on-mobile text-center"><a href="/" class="text-logo">react-papaparse 4</a></div><div class="grid-40 mobile-grid-50 text-right"><div class="links"><a href="https://github.com/Bunlong/react-papaparse"><i class="fa fa-github fa-lg"></i> GitHub</a></div></div></div></header><div class="insignia"><div class="firefox-hack"><div id="version-intro">Version</div><div id="version">4</div></div></div><section style="padding-top:0"><div class="grid-container"><div class="grid-100"><h3>Features</h3></div></div><div id="ticker"><div class="ticker-item current"><p>Now the fastest React CSV parser for the browser</p></div><div class="ticker-item"><p>The world&#x27;s first multi-threaded CSV parser for the browser</p></div><div class="ticker-item"><p>react-papaparse can handle files gigabytes in size without crashing</p></div><div class="ticker-item"><p>Use react-papaparse when performance, privacy, and correctness matter to you</p></div><div class="ticker-item"><p>react-papaparse alleviates privacy concerns related to uploading files</p></div><div class="ticker-item"><p>Malformed CSV is handled gracefully with a detailed error report</p></div></div><div class="grid-container"><div class="grid-33"><li>CSV→JSON and <a href="#unparse">JSON→CSV</a></li><li>Auto-detect <a href="#delimiter">delimiter</a></li><li><a href="#local-files">Open local files</a></li><li><a href="#remote-files">Download remote files</a></li></div><div class="grid-33"><li><a href="#stream">Stream</a> local and remote files</li><li><a href="#worker">Multi-threaded</a></li><li><a href="#header">Header row</a> support</li><li><a href="#type-conversion">Type conversion</a></li></div><div class="grid-33"><li>Skip <a href="#comments">commented lines</a></li><li>Fast mode and easy to use</li><li>Graceful <a href="#errors">error</a> handling</li><li><a href="#csv-downloader">CSVDownloader</a></li></div><div class="clear"></div><br/><br/><div class="grid-100 text-center"><a href="https://github.com/Bunlong/react-papaparse" class="button"><i class="fa fa-github"></i>  GitHub</a><a href="/docs" class="button gray"><i class="fa fa-book"></i>  Documentation</a></div></div></section><section><div class="grid-container narrow-grid"><div class="grid-100"><h3>Frameworks</h3><p>react-papaparse strongly support<!-- --> <a href="https://nextjs.org" target="blank">Next.js</a>,<!-- --> <a href="https://create-react-app.dev" target="blank">Create React App</a> <!-- -->and other React frameworks. react-papaparse is the fastest React CSV parser for the browser (only works in the browser), so you need to set the component with no SSR (server-side render)<!-- --> <b>in case you use <code>readRemoteFile</code> function</b>.</p><div><ul><li><a href="https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr" target="blank">Next.js — component with no SSR</a></li></ul></div></div></div></section><section><div class="grid-container"><div class="grid-100 text-center"><h3>People <i class="fa fa-heart"></i> react-papaparse</h3><p><a href="https://www.npmjs.com/package/react-papaparse"><img src="https://img.shields.io/npm/dm/react-papaparse.svg" alt="react-papaparse"/></a> <a href="https://www.npmjs.com/package/react-papaparse"><img src="https://img.shields.io/npm/dt/react-papaparse.svg?label=total%20downloads" alt="react-papaparse"/></a></p></div></div></section><section id="parse"><div class="grid-container narrow-grid"><div class="grid-100"><h4>CSV Parsing</h4><h5>&quot;Isn&#x27;t parsing CSV just <code>String.split(&#x27;,&#x27;)</code>?&quot;</h5><p>react-papaparse does it right. Just pass in the CSV string with an optional <a href="/docs#config">configuration</a>.</p><pre><code class="language-javascript">import React from &#x27;react&#x27;;

import { usePapaParse } from &#x27;react-papaparse&#x27;;

export default function ReadString() {
  const { readString } = usePapaParse();

  const handleReadString = () =&gt; {
    const csvString = &#x27;Column 1,Column 2,Column 3,Column 4
1-1,1-2,1-3,1-4
2-1,2-2,2-3,2-4
3-1,3-2,3-3,3-4
4,5,6,7&#x27;;

    readString(csvString, {
      worker: true,
      complete: (results) =&gt; {
        console.log(&#x27;---------------------------&#x27;);
        console.log(results);
        console.log(&#x27;---------------------------&#x27;);
      },
    });
  };

  return &lt;button onClick={() =&gt; handleReadString()}&gt;readString&lt;/button&gt;;
}

/*
results = {
  data: [ ... ],    // parsed data
  errors: [ ... ],  // errors encountered
  meta: { ... }     // extra parse info
}
*/</code></pre></div></div></section><section id="delimiter"><div class="grid-container narrow-grid"><div class="grid-100"><h4>Delimiter Detection</h4><h5>&quot;But I don&#x27;t know the delimiter...&quot;</h5><p>That&#x27;s okay. react-papaparse will scan the first few rows to find the right delimiter.</p><pre><code class="language-javascript">const config = {
  worker: true,
  complete: (results) =&gt; {
    console.log(&#x27;---------------------------&#x27;);
    console.log(results.meta.delimiter);
    console.log(&#x27;---------------------------&#x27;);
  },
};

readString(csvString, config);

<span>/<!-- -->/<!-- --> &quot;<!-- -->\<!-- -->t&quot;</span></code></pre></div></div></section><section id="local-files"><div class="grid-container narrow-grid"><div class="grid-100"><h4>Local Files</h4><h5>&quot;Great, but I have a <i>file</i> to parse.&quot;</h5><p>Then use CSVReader component instead of readString method. Since file parsing is asynchronous, don&#x27;t forget callback methods.</p><div id="drag-no-click-upload" style="font-size:20px;margin-top:10px">Basic Upload</div><div style="text-align:center;padding-top:50px;padding-bottom:50px"><img src="/static/images/csvreader1.png" alt="Basic Upload" style="max-width:100%;height:auto"/></div><div style="display:flex;justify-content:flex-end;margin-bottom:14px"><a href="/docs#basic-upload">Properties</a>  |  <a href="/demo">Demo</a></div><pre><code class="language-javascript">import React, { CSSProperties } from &#x27;react&#x27;;

import { useCSVReader } from &#x27;react-papaparse&#x27;;

const styles = {
  csvReader: {
    display: &#x27;flex&#x27;,
    flexDirection: &#x27;row&#x27;,
    marginBottom: 10,
  } as CSSProperties,
  browseFile: {
    width: &#x27;20%&#x27;,
  } as CSSProperties,
  acceptedFile: {
    border: &#x27;1px solid #ccc&#x27;,
    height: 45,
    lineHeight: 2.5,
    paddingLeft: 10,
    width: &#x27;80%&#x27;,
  } as CSSProperties,
  remove: {
    borderRadius: 0,
    padding: &#x27;0 20px&#x27;,
  } as CSSProperties,
  progressBarBackgroundColor: {
    backgroundColor: &#x27;red&#x27;,
  } as CSSProperties,
};

export default function CSVReader() {
  const { CSVReader } = useCSVReader();

  return (
    &lt;CSVReader
      onUploadAccepted={(results: any) =&gt; {
        console.log(&#x27;---------------------------&#x27;);
        console.log(results);
        console.log(&#x27;---------------------------&#x27;);
      }}
    &gt;
      {({
        getRootProps,
        acceptedFile,
        ProgressBar,
        getRemoveFileProps,
      }: any) =&gt; (
        &lt;&gt;
          &lt;div style={styles.csvReader}&gt;
            &lt;button type=&#x27;button&#x27; {...getRootProps()} style={styles.browseFile}&gt;
              Browse file
            &lt;/button&gt;
            &lt;div style={styles.acceptedFile}&gt;
              {acceptedFile &amp;&amp; acceptedFile.name}
            &lt;/div&gt;
            &lt;button {...getRemoveFileProps()} style={styles.remove}&gt;
              Remove
            &lt;/button&gt;
          &lt;/div&gt;
          &lt;ProgressBar style={styles.progressBarBackgroundColor} /&gt;
        &lt;/&gt;
      )}
    &lt;/CSVReader&gt;
  );
}</code></pre><div id="drag-no-click-upload" style="font-size:20px;margin-top:35px">Click and Drag Upload</div><div style="text-align:center;padding-top:50px;padding-bottom:50px"><img src="/static/images/csvreader2.png" alt="Click and Drag Upload" style="max-width:100%;height:auto"/></div><div style="display:flex;justify-content:flex-end;margin-bottom:14px"><a href="/docs#click-and-drag-upload">Properties</a>  |  <a href="/demo">Demo</a></div><pre><code class="language-javascript">import React, { useState, CSSProperties } from &#x27;react&#x27;;

import {
  useCSVReader,
  lightenDarkenColor,
  formatFileSize,
} from &#x27;react-papaparse&#x27;;

const GREY = &#x27;#CCC&#x27;;
const GREY_LIGHT = &#x27;rgba(255, 255, 255, 0.4)&#x27;;
const DEFAULT_REMOVE_HOVER_COLOR = &#x27;#A01919&#x27;;
const REMOVE_HOVER_COLOR_LIGHT = lightenDarkenColor(
  DEFAULT_REMOVE_HOVER_COLOR,
  40
);
const GREY_DIM = &#x27;#686868&#x27;;

const styles = {
  zone: {
    alignItems: &#x27;center&#x27;,
    borderWidth: 2,
    borderStyle: &#x27;dashed&#x27;,
    borderColor: GREY,
    borderRadius: 20,
    display: &#x27;flex&#x27;,
    flexDirection: &#x27;column&#x27;,
    height: &#x27;100%&#x27;,
    justifyContent: &#x27;center&#x27;,
    padding: 20,
  } as CSSProperties,
  file: {
    background: &#x27;linear-gradient(to bottom, #EEE, #DDD)&#x27;,
    borderRadius: 20,
    display: &#x27;flex&#x27;,
    height: 120,
    width: 120,
    position: &#x27;relative&#x27;,
    zIndex: 10,
    flexDirection: &#x27;column&#x27;,
    justifyContent: &#x27;center&#x27;,
  } as CSSProperties,
  info: {
    alignItems: &#x27;center&#x27;,
    display: &#x27;flex&#x27;,
    flexDirection: &#x27;column&#x27;,
    paddingLeft: 10,
    paddingRight: 10,
  } as CSSProperties,
  size: {
    backgroundColor: GREY_LIGHT,
    borderRadius: 3,
    marginBottom: &#x27;0.5em&#x27;,
    justifyContent: &#x27;center&#x27;,
    display: &#x27;flex&#x27;,
  } as CSSProperties,
  name: {
    backgroundColor: GREY_LIGHT,
    borderRadius: 3,
    fontSize: 12,
    marginBottom: &#x27;0.5em&#x27;,
  } as CSSProperties,
  progressBar: {
    bottom: 14,
    position: &#x27;absolute&#x27;,
    width: &#x27;100%&#x27;,
    paddingLeft: 10,
    paddingRight: 10,
  } as CSSProperties,
  zoneHover: {
    borderColor: GREY_DIM,
  } as CSSProperties,
  default: {
    borderColor: GREY,
  } as CSSProperties,
  remove: {
    height: 23,
    position: &#x27;absolute&#x27;,
    right: 6,
    top: 6,
    width: 23,
  } as CSSProperties,
};

export default function CSVReader() {
  const { CSVReader } = useCSVReader();
  const [zoneHover, setZoneHover] = useState(false);
  const [removeHoverColor, setRemoveHoverColor] = useState(
    DEFAULT_REMOVE_HOVER_COLOR
  );

  return (
    &lt;CSVReader
      onUploadAccepted={(results: any) =&gt; {
        console.log(&#x27;---------------------------&#x27;);
        console.log(results);
        console.log(&#x27;---------------------------&#x27;);
        setZoneHover(false);
      }}
      onDragOver={(event: DragEvent) =&gt; {
        event.preventDefault();
        setZoneHover(true);
      }}
      onDragLeave={(event: DragEvent) =&gt; {
        event.preventDefault();
        setZoneHover(false);
      }}
    &gt;
      {({
        getRootProps,
        acceptedFile,
        ProgressBar,
        getRemoveFileProps,
        Remove,
      }: any) =&gt; (
        &lt;&gt;
          &lt;div
            {...getRootProps()}
            style={Object.assign(
              {},
              styles.zone,
              zoneHover &amp;&amp; styles.zoneHover
            )}
          &gt;
            {acceptedFile ? (
              &lt;&gt;
                &lt;div style={styles.file}&gt;
                  &lt;div style={styles.info}&gt;
                    &lt;span style={styles.size}&gt;
                      {formatFileSize(acceptedFile.size)}
                    &lt;/span&gt;
                    &lt;span style={styles.name}&gt;{acceptedFile.name}&lt;/span&gt;
                  &lt;/div&gt;
                  &lt;div style={styles.progressBar}&gt;
                    &lt;ProgressBar /&gt;
                  &lt;/div&gt;
                  &lt;div
                    {...getRemoveFileProps()}
                    style={styles.remove}
                    onMouseOver={(event: Event) =&gt; {
                      event.preventDefault();
                      setRemoveHoverColor(REMOVE_HOVER_COLOR_LIGHT);
                    }}
                    onMouseOut={(event: Event) =&gt; {
                      event.preventDefault();
                      setRemoveHoverColor(DEFAULT_REMOVE_HOVER_COLOR);
                    }}
                  &gt;
                    &lt;Remove color={removeHoverColor} /&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/&gt;
            ) : (
              &#x27;Drop CSV file here or click to upload&#x27;
            )}
          &lt;/div&gt;
        &lt;/&gt;
      )}
    &lt;/CSVReader&gt;
  );
}</code></pre><div id="drag-no-click-upload" style="font-size:20px;margin-top:35px">Drag ( No Click ) Upload</div><div style="text-align:center;padding-top:50px;padding-bottom:50px"><img src="/static/images/csvreader3.png" alt="Drag ( No Click ) Upload" style="max-width:100%;height:auto"/></div><div style="display:flex;justify-content:flex-end;margin-bottom:14px"><a href="/docs#drag-no-click-upload">Properties</a>  |  <a href="/demo">Demo</a></div><pre><code class="language-javascript">import React, { useState, CSSProperties } from &#x27;react&#x27;;

import {
  useCSVReader,
  lightenDarkenColor,
  formatFileSize,
} from &#x27;react-papaparse&#x27;;

const GREY = &#x27;#CCC&#x27;;
const GREY_LIGHT = &#x27;rgba(255, 255, 255, 0.4)&#x27;;
const DEFAULT_REMOVE_HOVER_COLOR = &#x27;#A01919&#x27;;
const REMOVE_HOVER_COLOR_LIGHT = lightenDarkenColor(
  DEFAULT_REMOVE_HOVER_COLOR,
  40
);
const GREY_DIM = &#x27;#686868&#x27;;

const styles = {
  zone: {
    alignItems: &#x27;center&#x27;,
    borderWidth: 2,
    borderStyle: &#x27;dashed&#x27;,
    borderColor: GREY,
    borderRadius: 20,
    display: &#x27;flex&#x27;,
    flexDirection: &#x27;column&#x27;,
    height: &#x27;100%&#x27;,
    justifyContent: &#x27;center&#x27;,
    padding: 20,
  } as CSSProperties,
  file: {
    background: &#x27;linear-gradient(to bottom, #EEE, #DDD)&#x27;,
    borderRadius: 20,
    display: &#x27;flex&#x27;,
    height: 120,
    width: 120,
    position: &#x27;relative&#x27;,
    zIndex: 10,
    flexDirection: &#x27;column&#x27;,
    justifyContent: &#x27;center&#x27;,
  } as CSSProperties,
  info: {
    alignItems: &#x27;center&#x27;,
    display: &#x27;flex&#x27;,
    flexDirection: &#x27;column&#x27;,
    paddingLeft: 10,
    paddingRight: 10,
  } as CSSProperties,
  size: {
    backgroundColor: GREY_LIGHT,
    borderRadius: 3,
    marginBottom: &#x27;0.5em&#x27;,
    justifyContent: &#x27;center&#x27;,
    display: &#x27;flex&#x27;,
  } as CSSProperties,
  name: {
    backgroundColor: GREY_LIGHT,
    borderRadius: 3,
    fontSize: 12,
    marginBottom: &#x27;0.5em&#x27;,
  } as CSSProperties,
  progressBar: {
    bottom: 14,
    position: &#x27;absolute&#x27;,
    width: &#x27;100%&#x27;,
    paddingLeft: 10,
    paddingRight: 10,
  } as CSSProperties,
  zoneHover: {
    borderColor: GREY_DIM,
  } as CSSProperties,
  default: {
    borderColor: GREY,
  } as CSSProperties,
  remove: {
    height: 23,
    position: &#x27;absolute&#x27;,
    right: 6,
    top: 6,
    width: 23,
  } as CSSProperties,
};

export default function CSVReader() {
  const { CSVReader } = useCSVReader();
  const [zoneHover, setZoneHover] = useState(false);
  const [removeHoverColor, setRemoveHoverColor] = useState(
    DEFAULT_REMOVE_HOVER_COLOR
  );

  return (
    &lt;CSVReader
      onUploadAccepted={(results: any) =&gt; {
        console.log(&#x27;---------------------------&#x27;);
        console.log(results);
        console.log(&#x27;---------------------------&#x27;);
        setZoneHover(false);
      }}
      onDragOver={(event: DragEvent) =&gt; {
        event.preventDefault();
        setZoneHover(true);
      }}
      onDragLeave={(event: DragEvent) =&gt; {
        event.preventDefault();
        setZoneHover(false);
      }}
      noClick
    &gt;
      {({
        getRootProps,
        acceptedFile,
        ProgressBar,
        getRemoveFileProps,
        Remove,
      }: any) =&gt; (
        &lt;&gt;
          &lt;div
            {...getRootProps()}
            style={Object.assign(
              {},
              styles.zone,
              zoneHover &amp;&amp; styles.zoneHover
            )}
          &gt;
            {acceptedFile ? (
              &lt;&gt;
                &lt;div style={styles.file}&gt;
                  &lt;div style={styles.info}&gt;
                    &lt;span style={styles.size}&gt;
                      {formatFileSize(acceptedFile.size)}
                    &lt;/span&gt;
                    &lt;span style={styles.name}&gt;{acceptedFile.name}&lt;/span&gt;
                  &lt;/div&gt;
                  &lt;div style={styles.progressBar}&gt;
                    &lt;ProgressBar /&gt;
                  &lt;/div&gt;
                  &lt;div
                    {...getRemoveFileProps()}
                    style={styles.remove}
                    onMouseOver={(event: Event) =&gt; {
                      event.preventDefault();
                      setRemoveHoverColor(REMOVE_HOVER_COLOR_LIGHT);
                    }}
                    onMouseOut={(event: Event) =&gt; {
                      event.preventDefault();
                      setRemoveHoverColor(DEFAULT_REMOVE_HOVER_COLOR);
                    }}
                  &gt;
                    &lt;Remove color={removeHoverColor} /&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/&gt;
            ) : (
              &#x27;Drop CSV file here to upload&#x27;
            )}
          &lt;/div&gt;
        &lt;/&gt;
      )}
    &lt;/CSVReader&gt;
  );
}</code></pre><div id="drag-no-click-upload" style="font-size:20px;margin-top:35px">Click ( No Drag ) Upload</div><div style="text-align:center;padding-top:50px;padding-bottom:50px"><img src="/static/images/csvreader4.png" alt="Click ( No Drag ) Upload" style="max-width:100%;height:auto"/></div><div style="display:flex;justify-content:flex-end;margin-bottom:14px"><a href="/docs#click-no-drag-upload">Properties</a>  |  <a href="/demo">Demo</a></div><pre><code class="language-javascript">import React, { useState, CSSProperties } from &#x27;react&#x27;;

import {
  useCSVReader,
  lightenDarkenColor,
  formatFileSize,
} from &#x27;react-papaparse&#x27;;

const GREY = &#x27;#CCC&#x27;;
const GREY_LIGHT = &#x27;rgba(255, 255, 255, 0.4)&#x27;;
const DEFAULT_REMOVE_HOVER_COLOR = &#x27;#A01919&#x27;;
const REMOVE_HOVER_COLOR_LIGHT = lightenDarkenColor(
  DEFAULT_REMOVE_HOVER_COLOR,
  40
);
const GREY_DIM = &#x27;#686868&#x27;;

const styles = {
  zone: {
    alignItems: &#x27;center&#x27;,
    borderWidth: 2,
    borderStyle: &#x27;dashed&#x27;,
    borderColor: GREY,
    borderRadius: 20,
    display: &#x27;flex&#x27;,
    flexDirection: &#x27;column&#x27;,
    height: &#x27;100%&#x27;,
    justifyContent: &#x27;center&#x27;,
    padding: 20,
  } as CSSProperties,
  file: {
    background: &#x27;linear-gradient(to bottom, #EEE, #DDD)&#x27;,
    borderRadius: 20,
    display: &#x27;flex&#x27;,
    height: 120,
    width: 120,
    position: &#x27;relative&#x27;,
    zIndex: 10,
    flexDirection: &#x27;column&#x27;,
    justifyContent: &#x27;center&#x27;,
  } as CSSProperties,
  info: {
    alignItems: &#x27;center&#x27;,
    display: &#x27;flex&#x27;,
    flexDirection: &#x27;column&#x27;,
    paddingLeft: 10,
    paddingRight: 10,
  } as CSSProperties,
  size: {
    backgroundColor: GREY_LIGHT,
    borderRadius: 3,
    marginBottom: &#x27;0.5em&#x27;,
    justifyContent: &#x27;center&#x27;,
    display: &#x27;flex&#x27;,
  } as CSSProperties,
  name: {
    backgroundColor: GREY_LIGHT,
    borderRadius: 3,
    fontSize: 12,
    marginBottom: &#x27;0.5em&#x27;,
  } as CSSProperties,
  progressBar: {
    bottom: 14,
    position: &#x27;absolute&#x27;,
    width: &#x27;100%&#x27;,
    paddingLeft: 10,
    paddingRight: 10,
  } as CSSProperties,
  zoneHover: {
    borderColor: GREY_DIM,
  } as CSSProperties,
  default: {
    borderColor: GREY,
  } as CSSProperties,
  remove: {
    height: 23,
    position: &#x27;absolute&#x27;,
    right: 6,
    top: 6,
    width: 23,
  } as CSSProperties,
};

export default function CSVReader() {
  const { CSVReader } = useCSVReader();
  const [zoneHover, setZoneHover] = useState(false);
  const [removeHoverColor, setRemoveHoverColor] = useState(
    DEFAULT_REMOVE_HOVER_COLOR
  );

  return (
    &lt;CSVReader
      onUploadAccepted={(results: any) =&gt; {
        console.log(&#x27;---------------------------&#x27;);
        console.log(results);
        console.log(&#x27;---------------------------&#x27;);
        setZoneHover(false);
      }}
      onDragOver={(event: DragEvent) =&gt; {
        event.preventDefault();
        setZoneHover(true);
      }}
      onDragLeave={(event: DragEvent) =&gt; {
        event.preventDefault();
        setZoneHover(false);
      }}
      noDrag
    &gt;
      {({
        getRootProps,
        acceptedFile,
        ProgressBar,
        getRemoveFileProps,
        Remove,
      }: any) =&gt; (
        &lt;&gt;
          &lt;div
            {...getRootProps()}
            style={Object.assign(
              {},
              styles.zone,
              zoneHover &amp;&amp; styles.zoneHover
            )}
          &gt;
            {acceptedFile ? (
              &lt;&gt;
                &lt;div style={styles.file}&gt;
                  &lt;div style={styles.info}&gt;
                    &lt;span style={styles.size}&gt;
                      {formatFileSize(acceptedFile.size)}
                    &lt;/span&gt;
                    &lt;span style={styles.name}&gt;{acceptedFile.name}&lt;/span&gt;
                  &lt;/div&gt;
                  &lt;div style={styles.progressBar}&gt;
                    &lt;ProgressBar /&gt;
                  &lt;/div&gt;
                  &lt;div
                    {...getRemoveFileProps()}
                    style={styles.remove}
                    onMouseOver={(event: Event) =&gt; {
                      event.preventDefault();
                      setRemoveHoverColor(REMOVE_HOVER_COLOR_LIGHT);
                    }}
                    onMouseOut={(event: Event) =&gt; {
                      event.preventDefault();
                      setRemoveHoverColor(DEFAULT_REMOVE_HOVER_COLOR);
                    }}
                  &gt;
                    &lt;Remove color={removeHoverColor} /&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/&gt;
            ) : (
              &#x27;Click to upload&#x27;
            )}
          &lt;/div&gt;
        &lt;/&gt;
      )}
    &lt;/CSVReader&gt;
  );
}</code></pre></div></div></section><section id="remote-files"><div class="grid-container narrow-grid"><div class="grid-100"><h4>Remote Files</h4><h5>&quot;No — I mean, the file isn&#x27;t on my computer.&quot;</h5><p>Oh, well then just pass in the URL and — of course — a callback.</p><pre><code class="language-javascript">import React from &#x27;react&#x27;;

import { usePapaParse } from &#x27;react-papaparse&#x27;;

export default function ReadRemoteFile() {
  const { readRemoteFile } = usePapaParse();

  const handleReadRemoteFile = () =&gt; {
    readRemoteFile(url, {
      complete: (results) =&gt; {
        console.log(&#x27;---------------------------&#x27;);
        console.log(&#x27;Results:&#x27;, results);
        console.log(&#x27;---------------------------&#x27;);
      },
    });
  };

  return &lt;button onClick={() =&gt; handleReadRemoteFile()}&gt;readRemoteFile&lt;/button&gt;;
}</code></pre></div></div></section><section id="stream"><div class="grid-container narrow-grid"><div class="grid-100"><h4>Streaming</h4><h5>&quot;Did I mention the file is huge?&quot;</h5><p>That&#x27;s what streaming is for. Specify a step callback to receive the results row-by-row. This way, you won&#x27;t load the whole file into memory and crash the browser.</p><pre><code class="language-javascript">readRemoteFile(url, {
  step: (row) =&gt; {
    console.log(&#x27;Row:&#x27;, row.data)
  },
  complete: () =&gt; {
    console.log(&#x27;All done!&#x27;)
  }
});</code></pre></div></div></section><section id="worker"><div class="grid-container narrow-grid"><div class="grid-100"><h4>Multi-Threading</h4><h5>&#x27;Lovely. Now my web page locked up.&#x27;</h5><p>That happens when a long-running script is executing in the same thread as the page. Use a<!-- --> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker">Worker</a> <!-- -->thread by specifying <code>worker: true</code>. It may take slightly longer, but your page will stay reactive.</p><pre><code class="language-javascript">readRemoteFile(bigFileURL, {
  worker: true,
  step: (row) =&gt; {
    console.log(&#x27;Row:&#x27;, row.data)
  },
  complete: () =&gt; {
    console.log(&#x27;All done!&#x27;)
  }
});</code></pre></div></div></section><section id="header"><div class="grid-container narrow-grid"><div class="grid-100"><h4>Header Row</h4><h5>&quot;Great! Now I want data keyed by field name.&quot;</h5><p>If you tell react-papaparse there is a header row, each row will be organized by field name instead of index.</p><pre><code class="language-javascript">// Key data by field name instead of index/position
readString(csvString, {
  worker: true,
  complete: (results) =&gt; {
    console.log(results)
  },
  header: true
})</code></pre></div></div></section><section id="type-conversion"><div class="grid-container narrow-grid"><div class="grid-100"><h4>Type Conversion</h4><h5>&quot;Hey, these numbers are parsed as strings.&quot;</h5><p><i>Everything</i> is parsed as strings. If you want numbers and booleans, you can enable dynamic typing to do the conversion for you.</p><pre><code class="language-javascript">// Converts numeric/boolean data
readString(csvString, {
  worker: true,
  complete: (results) =&gt; {
    console.log(results)
  },
  dynamicTyping: true
})</code></pre></div></div></section><section id="comments"><div class="grid-container narrow-grid"><div class="grid-100"><h4>Comments</h4><h5>&quot;I forgot to mention: my CSV files have comments in them.&quot;</h5><p>Okay, first off: that&#x27;s really weird. But fortunately, you can skip those lines... just specify the comment string.</p><pre><code class="language-javascript">// Mostly found in academia, some CSV files
// may have commented lines in them
readString(csvString, {
  worker: true,
  complete: (results) =&gt; {
    console.log(results)
  },
  comments: &#x27;#&#x27;
})</code></pre></div></div></section><section id="errors"><div class="grid-container narrow-grid"><div class="grid-100"><h4>Error Handling</h4><h5>&quot;Aw, shoot. Errors.&quot;</h5><p>react-papaparse handles errors pretty well. The<!-- --> <a href="http://tools.ietf.org/html/rfc4180">CSV standard</a> is somewhat <strike>loose</strike> ambiguous, so react-papaparse is designed for edge cases. For example, mismatched fields won&#x27;t break parsing.</p><pre><code class="language-javascript">// Example error:
{
  type: &#x27;FieldMismatch&#x27;,
  code: &#x27;TooManyFields&#x27;,
  message: &#x27;Expected 3 fields, but parsed 4&#x27;,
  row: 1
}</code></pre></div></div></section><section id="unparse"><div class="grid-container narrow-grid"><div class="grid-100"><h4>JSON to CSV</h4><h5>&quot;Last thing: what about converting JSON to CSV?&quot;</h5><p>Use <code>jsonToCSV()</code> function, passing in your array of arrays or array of objects. react-papaparse will figure it out.</p><pre><code class="language-javascript">// Output is a properly-formatted CSV string.

import React from &#x27;react&#x27;;

import { usePapaParse } from &#x27;react-papaparse&#x27;;

export default function JsonToCSV() {
  const { jsonToCSV } = usePapaParse();

  const handleJsonToCSV = () =&gt; {
    const jsonData = &#x27;[
      {
          &quot;Column 1&quot;: &quot;1-1&quot;,
          &quot;Column 2&quot;: &quot;1-2&quot;,
          &quot;Column 3&quot;: &quot;1-3&quot;,
          &quot;Column 4&quot;: &quot;1-4&quot;
      },
      {
          &quot;Column 1&quot;: &quot;2-1&quot;,
          &quot;Column 2&quot;: &quot;2-2&quot;,
          &quot;Column 3&quot;: &quot;2-3&quot;,
          &quot;Column 4&quot;: &quot;2-4&quot;
      },
      {
          &quot;Column 1&quot;: &quot;3-1&quot;,
          &quot;Column 2&quot;: &quot;3-2&quot;,
          &quot;Column 3&quot;: &quot;3-3&quot;,
          &quot;Column 4&quot;: &quot;3-4&quot;
      },
      {
          &quot;Column 1&quot;: 4,
          &quot;Column 2&quot;: 5,
          &quot;Column 3&quot;: 6,
          &quot;Column 4&quot;: 7
      }
    ]&#x27;;
    const results = jsonToCSV(jsonData);
    console.log(&#x27;---------------------------&#x27;);
    console.log(&#x27;Results:&#x27;, results);
    console.log(&#x27;---------------------------&#x27;);
  };

  return &lt;button onClick={() =&gt; handleJsonToCSV()}&gt;jsonToCSV&lt;/button&gt;;
}</code></pre></div></div></section><section id="csv-downloader"><div class="grid-container narrow-grid"><div class="grid-100"><h4>CSVDownloader</h4><h5>&quot;Allow to download CSV file from js object.&quot;</h5><p>Just pass in the js object with an optional<!-- --> <a href="/docs#config">configuration</a> ( setting delimiter / separator ).</p><pre><code class="language-javascript">import React from &#x27;react&#x27;;

import { useCSVDownloader } from &#x27;react-papaparse&#x27;;

export default function CSVDownloader() {
  const { CSVDownloader, Type } = useCSVDownloader();

  return (
    &lt;CSVDownloader
      type={Type.Button}
      filename={&#x27;filename&#x27;}
      bom={true}
      config={{
        delimiter: &#x27;;&#x27;,
      }}
      data={[
        {
          &#x27;Column 1&#x27;: &#x27;1-1&#x27;,
          &#x27;Column 2&#x27;: &#x27;1-2&#x27;,
          &#x27;Column 3&#x27;: &#x27;1-3&#x27;,
          &#x27;Column 4&#x27;: &#x27;1-4&#x27;,
        },
        {
          &#x27;Column 1&#x27;: &#x27;2-1&#x27;,
          &#x27;Column 2&#x27;: &#x27;2-2&#x27;,
          &#x27;Column 3&#x27;: &#x27;2-3&#x27;,
          &#x27;Column 4&#x27;: &#x27;2-4&#x27;,
        },
        {
          &#x27;Column 1&#x27;: &#x27;3-1&#x27;,
          &#x27;Column 2&#x27;: &#x27;3-2&#x27;,
          &#x27;Column 3&#x27;: &#x27;3-3&#x27;,
          &#x27;Column 4&#x27;: &#x27;3-4&#x27;,
        },
        {
          &#x27;Column 1&#x27;: 4,
          &#x27;Column 2&#x27;: 5,
          &#x27;Column 3&#x27;: 6,
          &#x27;Column 4&#x27;: 7,
        },
      ]}
    &gt;
      Download
    &lt;/CSVDownloader&gt;
  );
}</code></pre></div><div class="grid-100 break"><p><code>data=</code> can be a function that returns a data object.</p><pre><code class="language-javascript">&lt;CSVDownloader
  filename={&#x27;filename&#x27;}
  data={() =&gt; {
    return [
      {
        &quot;Column 1&quot;: &quot;1-1&quot;,
        &quot;Column 2&quot;: &quot;1-2&quot;,
        &quot;Column 3&quot;: &quot;1-3&quot;,
        &quot;Column 4&quot;: &quot;1-4&quot;,
      }
    ]}
  }
&gt;
  Download
&lt;/CSVDownloader&gt;</code></pre></div></div></section><section id="download"><div class="grid-container"><div class="grid-100"><h3>Install</h3></div><div class="prefix-30 grid-40 suffix-30"><b style="display:block;text-align:center">npm</b><pre><code class="language-bash">$ npm install react-papaparse --save</code></pre><br/><b style="display:block;text-align:center">yarn</b><pre><code class="language-bash">$ yarn add react-papaparse</code></pre></div><div class="clear"></div><div class="grid-100 text-center"><br/><br/><a href="https://github.com/Bunlong/react-papaparse" class="button"><i class="fa fa-github"></i>  GitHub</a><a href="/demo" class="button red"><i class="fa fa-magic"></i>  Demo</a><a href="/docs" class="button gray"><i class="fa fa-book"></i>  Documentation</a></div></div></section></main></div><footer><div class="footer-main"><div class="grid-container"><div class="grid-40 text-center"><div class="logo"></div><br/><br/>react-papaparse by<!-- --> <a href="https://github.com/bunlong">Bunlong</a><br/>© 2018-2022</div><div class="grid-15 mobile-grid-50 links"><h5>Learn</h5><a href="/demo">Demo</a><a href="/docs">Documentation</a></div><div class="grid-15 mobile-grid-50 links"><h5>Project</h5><a href="https://github.com/Bunlong/next-share" target="_blank">next-share</a></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/","query":{},"buildId":"AW04_voA20KMvMA_OM3g4","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-8a9ca68ce2f6a778e0e3.js"></script><script src="/_next/static/chunks/webpack-3e8c9eeaee1164856bee.js" async=""></script><script src="/_next/static/chunks/framework.0021446505933bd5cafd.js" async=""></script><script src="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.ce4b2266325182fccb55.js" async=""></script><script src="/_next/static/chunks/main-e5e2382b8230932699ea.js" async=""></script><script src="/_next/static/chunks/pages/_app-9098a42135564a570814.js" async=""></script><script src="/_next/static/chunks/ba43c0059f31913f28e53f615645a3f91dbaab7b.514315c3e2ec78cf0c99.js" async=""></script><script src="/_next/static/chunks/pages/index-68f80a522bc8a7443286.js" async=""></script><script src="/_next/static/AW04_voA20KMvMA_OM3g4/_buildManifest.js" async=""></script><script src="/_next/static/AW04_voA20KMvMA_OM3g4/_ssgManifest.js" async=""></script></body></html>